[env:esp32dev]
platform      = espressif32
board         = esp32dev
framework     = arduino
monitor_speed = 115200
upload_speed  = 921600

; ── Libraries ──
lib_deps =
    knolleary/PubSubClient@^2.8
    bblanchon/ArduinoJson@^6.21.3

; NOTE: WiFiClientSecure, HTTPClient, HTTPUpdate, Update, ArduinoOTA
; are all built into the ESP32 Arduino core — no extra lib_deps needed.

; ── Build flags (optional but recommended) ──
build_flags =
    -DCORE_DEBUG_LEVEL=0        ; 0=silent, 5=verbose — set to 5 if debugging
    -DBOARD_HAS_PSRAM=0

; ── METHOD 1: OTA upload via PlatformIO ──
; After first USB flash, use this section to upload wirelessly forever:
; 1. Uncomment the 3 lines below
; 2. Replace 192.168.1.100 with your ESP32's actual IP
; 3. Run: pio run --target upload
;
; upload_protocol = espota
; upload_port     = 192.168.1.100       ; or ESP32-AIPL-Light.local
; upload_flags    = --auth=aipl@OTA#2025